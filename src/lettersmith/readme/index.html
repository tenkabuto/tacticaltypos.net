<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta property="og:title" content="README | Tactical Typos" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="mobile-web-app-capable" content="yes"/>
    <meta name="format-detection" content="telephone=no">
    <meta name="author" content="Brandon Hall">
    <meta name="google-site-verification" content="Ds1NlFvZ6fZpOwOyduFSrkOq-xaRmpBm9kVRCMCVpZo" />
    <link id="faviconLink" rel="shortcut icon" href="images/favicon.ico">
    <title>README | Tactical Typos</title>
    <!-- Bootstrap core CSS -->
<link href="/static/styles/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="/static/styles/blog.css" rel="stylesheet">
  </head>
  <body>
<header class="p-3">
<h3 class="font-italic text-center"><a href="https://tacticaltypos.net" title="Tactical Typos" alt="Homepage" class="p-2 bg-white">Tactical Typos</a></h3>
<ul class="nav justify-content-between pl-3 pr-3">
  <li>
    <a class="tc-tiddlylink tc-tiddlylink-resolves p-2 m-1 bg-white" href="/about">About</a>
  </li>
  <li>
    <a class="tc-tiddlylink tc-tiddlylink-resolves p-2 m-1 bg-white" href="/projects">Projects</a>
  </li>
</ul>
</header>



<main class="container" role="main">
  <div class="row">
    <div class="col-md-8 blog-main">
      <article class="blog-post">
        <h1 class="blog-post-title">README</h1>
        <h1>Lettersmith</h1>
<p>A set of tools for static site generation. It comes with a static site generator bundled in. You can also use it as a library to build your own custom static site generator.</p>
<p>I built it for myself, because I found other solutions to be pretty baroque and difficult to customize. Right now, it's a simple set of fairly stable tools for personal use. I might package it up later.</p>
<h2>Installing</h2>
<p>Lettersmith requires Python 3.6+, and a version of pip compatible with Python 3.</p>
<pre><code class="language-bash">git clone https://github.com/gordonbrander/lettersmith_py
cd lettersmith_py
pip3 install -e .
</code></pre>
<h2>lettersmith_scaffold</h2>
<p>You can easily scaffold a site using <code>lettersmith_scaffold</code>.</p>
<pre><code class="language-bash">lettersmith_scaffold ./blog --type blog
</code></pre>
<p>This will stub out a directory structure and a build script for a typical blogging setup. You can customize the build script from there.</p>
<h2>What it does</h2>
<p>Lettersmith comes bundled with a static site generator, but it's really just a library of tools for transforming text. You can use these tools to create your own custom static site generators, build tools, project scaffolders, ebook generators, or wikis — whatever you like.</p>
<p>Lettersmith loads text files as Python namedtuples, so a markdown file like this:</p>
<pre><code class="language-markdown">---
title: &quot;My post&quot;
created: 2018-01-17
---

Some content
</code></pre>
<p>Becomes this:</p>
<pre><code class="language-python">Doc(
  id_path=&#x27;path/to/post.md&#x27;,
  output_path=&#x27;path/to/post.md&#x27;,
  input_path=&#x27;path/to/post.md&#x27;,
  created=datetime.datetime(2018, 1, 17, 0, 0),
  modified=datetime.datetime(2018, 1, 17, 0, 0),
  title=&#x27;My post&#x27;,
  content=&#x27;Some content&#x27;,
  meta={
    &quot;title&quot;: &quot;My post&quot;,
    &quot;date&quot;: &quot;2018-01-17&quot;
  },
  template=&quot;&quot;
)
</code></pre>
<h2>Plugins</h2>
<p>Plugins are just functions that transform doc namedtuples.</p>
<p>To transform many files, you can load them into an iterable, then use list comprehensions, generator expressions, and map, filter, reduce:</p>
<pre><code class="language-python"># Get all markdown docs under source/
posts = docs.find(&quot;posts/*.md&quot;)
# Transform them with your function.
posts = my_plugin(posts)
</code></pre>
<p>To write a plugin, all you need to do is define a generator function that takes an iterator of docs and yields transformed docs.</p>
<pre><code class="language-python">def my_plugin(docs)
    for doc in docs:
        yield do_something(doc)
</code></pre>
<p>You can pipe docs through many transforming functions using <code>pipe</code>.</p>
<pre><code class="language-python">posts = pipe(
  docs.find(&quot;source/*.md&quot;),
  markdown.content,
  my_plugin,
  my_other_plugin
)
</code></pre>
<p>Which is equivalent to:</p>
<pre><code class="language-python">posts = my_other_plugin(my_plugin(markdown.content(docs.find(&quot;source/*.md&quot;))))
</code></pre>
<p>When you're done transforming things, you can pass the iterable to <code>write</code>, which takes care of writing out the files to an output directory.</p>
<pre><code class="language-python">write(posts, directory=&quot;public&quot;)
</code></pre>
<p>That's it!</p>
<p>Check out <a href="/lettersmith/package_data/scaffold/blog/build.py">blog/build.py</a> for an example of a build script that uses some of the built-in plugins to create a typical blogging setup.</p>
<p>Lettersmith comes with a swiss army knife of helpful tools for things like Markdown, templates, drafts, tags, wikilinks, and more — and if you see something missing it's easy to write your own functions.</p>

      </article>
    </div>
    <aside class="col-md-4 blog-sidebar">
      <div class="p-3 mb-3 bg-white rounded">
        <p class="text-secondary">Last edited 2023-04-23 23:04:14.280449</p>
        <h4 class="font-italic mt-3">Backlinks</h4>
        <ul class="list-unstyled">
        
	  	</ul>
      </div>
        <div class="mt-3">
            <form action="https://duckduckgo.com" class="my-2 my-lg-0">
              <input name="sites" type="hidden" value="tacticaltypos.net">
              <input aria-label="Search" class="form-control mr-sm-2" name="q" placeholder="Search" type="search">
              <button class="btn btn-outline-success my-2 my-sm-0 font-weight-bold" type="submit">Search</button>
            </form>
        </div>
    </aside>
  </div>
</main>



<footer class="blog-footer bg-light">
  <p>
    <a href="#">Back to top</a>
  </p>
</footer>
</body>
</html>
